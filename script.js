const i18n = {
  en: {
    navFeatures: "Features",
    navScreens: "Screens",
    navSecurity: "Security",
    navLegal: "Legal",
    heroEyebrow: "Authenticator + Password Vault + Secure Notes",
    heroTitle: "Security that feels cinematic.",
    heroLead: "BlueGuard is the premium way to protect your digital life with 2FA codes, encrypted passwords, and private notes in one lightning-fast app.",
    heroCta: "Get BlueGuard",
    heroCtaSecondary: "Explore Features",
    floatCardA: "Biometric Lock",
    floatCardB: "Encrypted Backup",
    floatCardC: "Cross-device Sync",
    featuresEyebrow: "Core Capabilities",
    featuresTitle: "Made for speed. Built for trust.",
    f1Title: "Authenticator",
    f1Body: "Generate and auto-refresh TOTP tokens for all your services with a clean, high-contrast timer UI.",
    f2Title: "Password Vault",
    f2Body: "Store logins and recovery data with private local encryption and quick search for instant access.",
    f3Title: "Secure Notes",
    f3Body: "Keep seed phrases, backup codes, and private text protected behind biometric and vault protection.",
    f4Title: "Cloud Backup",
    f4Body: "Optional encrypted sync through your secure cloud account to restore fast on a new device.",
    screensEyebrow: "Interface Preview",
    screensTitle: "Every screen engineered for clarity.",
    securityEyebrow: "Security Model",
    securityTitle: "Privacy-first architecture.",
    s1Title: "On-device protection",
    s1Body: "Sensitive values are protected locally and guarded by Face ID / Touch ID and passcode lock.",
    s2Title: "Encrypted backup flow",
    s2Body: "Backups are encrypted before leaving your device, reducing exposure and preserving ownership.",
    s3Title: "Clear consent controls",
    s3Body: "You decide what syncs, what remains local, and how your data lifecycle is managed.",
    ctaTitle: "Ready to protect everything that matters?",
    ctaBody: "BlueGuard Authenticator gives you a secure command center for your digital identity.",
    ctaButton: "Download on App Store",
    legalTitle: "Legal",
    legalBody: "Policies required for App Store review and user transparency.",
    legalTerms: "Terms of Use",
    legalPrivacy: "Privacy Policy",
    legalService: "Service Agreement",
    footerBy: "By SimHaDo Apps"
  },
  ru: {
    navFeatures: "Возможности",
    navScreens: "Скриншоты",
    navSecurity: "Безопасность",
    navLegal: "Документы",
    heroEyebrow: "Authenticator + Пароли + Защищённые заметки",
    heroTitle: "Кинематографическая безопасность.",
    heroLead: "BlueGuard — премиальный способ защитить цифровую жизнь: 2FA коды, зашифрованные пароли и приватные заметки в одном быстром приложении.",
    heroCta: "Получить BlueGuard",
    heroCtaSecondary: "Смотреть возможности",
    floatCardA: "Биометрическая защита",
    floatCardB: "Шифрованный бэкап",
    floatCardC: "Синхронизация устройств",
    featuresEyebrow: "Ключевые функции",
    featuresTitle: "Максимум скорости. Максимум доверия.",
    f1Title: "Authenticator",
    f1Body: "Генерация и автообновление TOTP-кодов для всех сервисов с чистым интерфейсом таймера.",
    f2Title: "Хранилище паролей",
    f2Body: "Логины и данные восстановления с локальным шифрованием и мгновенным поиском.",
    f3Title: "Секретные заметки",
    f3Body: "Seed-фразы, backup-коды и важный текст под биометрией и паролем хранилища.",
    f4Title: "Облачный бэкап",
    f4Body: "Опциональная зашифрованная синхронизация для быстрого восстановления на новом устройстве.",
    screensEyebrow: "Превью интерфейса",
    screensTitle: "Каждый экран создан для ясности.",
    securityEyebrow: "Модель защиты",
    securityTitle: "Архитектура с приоритетом приватности.",
    s1Title: "Защита на устройстве",
    s1Body: "Чувствительные данные защищены локально и доступны только через Face ID / Touch ID и код-пароль.",
    s2Title: "Шифрованные бэкапы",
    s2Body: "Резервные копии шифруются до отправки, снижая риски и сохраняя контроль у пользователя.",
    s3Title: "Прозрачное согласие",
    s3Body: "Вы выбираете, что синхронизировать, что хранить локально и как управлять жизненным циклом данных.",
    ctaTitle: "Готов защитить всё важное?",
    ctaBody: "BlueGuard Authenticator — единый защищённый центр вашей цифровой идентичности.",
    ctaButton: "Скачать в App Store",
    legalTitle: "Юридические документы",
    legalBody: "Политики для App Store Review и прозрачности для пользователей.",
    legalTerms: "Terms of Use",
    legalPrivacy: "Privacy Policy",
    legalService: "Service Agreement",
    footerBy: "Проект студии SimHaDo Apps"
  },
  uk: {
    navFeatures: "Можливості",
    navScreens: "Екрани",
    navSecurity: "Безпека",
    navLegal: "Документи",
    heroEyebrow: "Authenticator + Сховище паролів + Захищені нотатки",
    heroTitle: "Безпека з кінематографічним ефектом.",
    heroLead: "BlueGuard — преміальний спосіб захистити цифрове життя: 2FA коди, зашифровані паролі та приватні нотатки в одному швидкому застосунку.",
    heroCta: "Отримати BlueGuard",
    heroCtaSecondary: "Переглянути функції",
    floatCardA: "Біометричний захист",
    floatCardB: "Шифрований бекап",
    floatCardC: "Синхронізація пристроїв",
    featuresEyebrow: "Ключові функції",
    featuresTitle: "Швидко. Надійно. Преміально.",
    f1Title: "Authenticator",
    f1Body: "Генерація та автооновлення TOTP-кодів для всіх сервісів із чистим інтерфейсом таймера.",
    f2Title: "Сховище паролів",
    f2Body: "Логіни та резервні дані з локальним шифруванням і миттєвим пошуком.",
    f3Title: "Секретні нотатки",
    f3Body: "Seed-фрази, backup-коди та приватний текст під біометрією і паролем сховища.",
    f4Title: "Хмарний бекап",
    f4Body: "Опційна зашифрована синхронізація для швидкого відновлення на новому пристрої.",
    screensEyebrow: "Прев'ю інтерфейсу",
    screensTitle: "Кожен екран створений для ясності.",
    securityEyebrow: "Модель безпеки",
    securityTitle: "Архітектура з пріоритетом приватності.",
    s1Title: "Захист на пристрої",
    s1Body: "Чутливі дані захищені локально та доступні лише через Face ID / Touch ID і пароль.",
    s2Title: "Шифровані резервні копії",
    s2Body: "Резервні копії шифруються до передачі, що зменшує ризики та зберігає контроль користувача.",
    s3Title: "Прозора згода",
    s3Body: "Ви керуєте тим, що синхронізується, що лишається локально і як обробляються дані.",
    ctaTitle: "Готові захистити все важливе?",
    ctaBody: "BlueGuard Authenticator — єдиний захищений центр вашої цифрової ідентичності.",
    ctaButton: "Завантажити в App Store",
    legalTitle: "Юридичні документи",
    legalBody: "Політики для App Store Review та прозорості для користувачів.",
    legalTerms: "Terms of Use",
    legalPrivacy: "Privacy Policy",
    legalService: "Service Agreement",
    footerBy: "Проєкт студії SimHaDo Apps"
  },
  ja: {
    navFeatures: "機能",
    navScreens: "画面",
    navSecurity: "セキュリティ",
    navLegal: "法的情報",
    heroEyebrow: "Authenticator + Password Vault + Secure Notes",
    heroTitle: "映画のような体験のセキュリティ。",
    heroLead: "BlueGuardは、2FAコード・暗号化パスワード・プライベートノートを1つにまとめた高速プレミアムアプリです。",
    heroCta: "BlueGuardを入手",
    heroCtaSecondary: "機能を見る",
    floatCardA: "生体認証ロック",
    floatCardB: "暗号化バックアップ",
    floatCardC: "デバイス同期",
    featuresEyebrow: "主要機能",
    featuresTitle: "速さと信頼のために設計。",
    f1Title: "Authenticator",
    f1Body: "見やすいタイマーUIで、すべてのサービスのTOTPコードを自動更新します。",
    f2Title: "Password Vault",
    f2Body: "ログイン情報と復旧データをローカル暗号化で安全に保存し、すばやく検索できます。",
    f3Title: "Secure Notes",
    f3Body: "シードフレーズ、バックアップコード、重要メモを生体認証で保護します。",
    f4Title: "Cloud Backup",
    f4Body: "オプションの暗号化同期で、新しい端末でも素早く復元できます。",
    screensEyebrow: "UIプレビュー",
    screensTitle: "すべての画面を明快にデザイン。",
    securityEyebrow: "セキュリティモデル",
    securityTitle: "プライバシー最優先の設計。",
    s1Title: "端末内保護",
    s1Body: "重要データは端末内で保護され、Face ID / Touch ID とパスコードで守られます。",
    s2Title: "暗号化バックアップ",
    s2Body: "バックアップは送信前に暗号化され、露出リスクを低減します。",
    s3Title: "明確な同意管理",
    s3Body: "同期する項目、ローカル保存、データ管理の方針をユーザーが選択できます。",
    ctaTitle: "大切な情報を今すぐ守りましょう。",
    ctaBody: "BlueGuard Authenticatorは、あなたのデジタルIDを守るセキュアな中枢です。",
    ctaButton: "App Storeでダウンロード",
    legalTitle: "法的ドキュメント",
    legalBody: "App Store審査とユーザー透明性のためのポリシーです。",
    legalTerms: "利用規約",
    legalPrivacy: "プライバシーポリシー",
    legalService: "サービス契約",
    footerBy: "SimHaDo Apps"
  },
  pt: {
    navFeatures: "Recursos",
    navScreens: "Telas",
    navSecurity: "Segurança",
    navLegal: "Legal",
    heroEyebrow: "Authenticator + Cofre de Senhas + Notas Seguras",
    heroTitle: "Segurança com impacto cinematográfico.",
    heroLead: "BlueGuard é a forma premium de proteger sua vida digital com códigos 2FA, senhas criptografadas e notas privadas em um app rápido.",
    heroCta: "Baixar BlueGuard",
    heroCtaSecondary: "Ver recursos",
    floatCardA: "Bloqueio biométrico",
    floatCardB: "Backup criptografado",
    floatCardC: "Sincronização entre dispositivos",
    featuresEyebrow: "Recursos principais",
    featuresTitle: "Feito para velocidade. Construído com confiança.",
    f1Title: "Authenticator",
    f1Body: "Gere e atualize códigos TOTP para todos os serviços com uma interface limpa e legível.",
    f2Title: "Cofre de Senhas",
    f2Body: "Guarde logins e dados de recuperação com criptografia local e busca instantânea.",
    f3Title: "Notas Seguras",
    f3Body: "Proteja seed phrases, códigos de backup e textos privados com biometria e senha do cofre.",
    f4Title: "Backup em Nuvem",
    f4Body: "Sincronização criptografada opcional para restaurar rapidamente em um novo dispositivo.",
    screensEyebrow: "Prévia da interface",
    screensTitle: "Cada tela pensada para máxima clareza.",
    securityEyebrow: "Modelo de segurança",
    securityTitle: "Arquitetura focada em privacidade.",
    s1Title: "Proteção no dispositivo",
    s1Body: "Dados sensíveis são protegidos localmente com Face ID / Touch ID e código de acesso.",
    s2Title: "Fluxo de backup criptografado",
    s2Body: "Backups são criptografados antes do envio, reduzindo exposição e mantendo seu controle.",
    s3Title: "Consentimento transparente",
    s3Body: "Você decide o que sincronizar, o que manter localmente e como os dados são gerenciados.",
    ctaTitle: "Pronto para proteger tudo o que importa?",
    ctaBody: "BlueGuard Authenticator é seu centro seguro para identidade digital.",
    ctaButton: "Baixar na App Store",
    legalTitle: "Documentos legais",
    legalBody: "Políticas exigidas para App Store Review e transparência com usuários.",
    legalTerms: "Termos de Uso",
    legalPrivacy: "Política de Privacidade",
    legalService: "Contrato de Serviço",
    footerBy: "Por SimHaDo Apps"
  }
};

const langSelect = document.getElementById("lang");
const supportedLangs = ["en", "ja", "ru", "uk", "pt"];

function resolveDeviceLanguage() {
  const candidate = (navigator.languages && navigator.languages[0]) || navigator.language || "en";
  const normalized = String(candidate).toLowerCase();
  const short = normalized.split("-")[0];
  return supportedLangs.includes(short) ? short : "en";
}

const storedLang = localStorage.getItem("blueguard_lang");
const initialLang = supportedLangs.includes(storedLang) ? storedLang : resolveDeviceLanguage();

function applyTranslations(lang) {
  const dict = i18n[lang] || i18n.en;
  document.documentElement.lang = lang;
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) el.textContent = dict[key];
  });
}

if (langSelect) {
  langSelect.value = initialLang;
  applyTranslations(initialLang);

  langSelect.addEventListener("change", (e) => {
    const lang = e.target.value;
    localStorage.setItem("blueguard_lang", lang);
    applyTranslations(lang);
  });
}

const observer = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) entry.target.classList.add("show");
    });
  },
  { threshold: 0.15 }
);

document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));

const progress = document.getElementById("scrollProgress");
window.addEventListener("scroll", () => {
  const scrollTop = window.scrollY;
  const docHeight = document.documentElement.scrollHeight - window.innerHeight;
  const ratio = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
  if (progress) progress.style.width = `${ratio}%`;

  document.querySelectorAll(".floating-card").forEach((card) => {
    const speed = Number(card.dataset.speed || 0.08);
    card.style.transform = `translateY(${scrollTop * speed * -0.25}px)`;
  });
});

const heroVisual = document.getElementById("heroVisual");
if (heroVisual) {
  heroVisual.addEventListener("mousemove", (event) => {
    const rect = heroVisual.getBoundingClientRect();
    const cx = event.clientX - rect.left;
    const cy = event.clientY - rect.top;
    const rx = (cy / rect.height - 0.5) * 10;
    const ry = (cx / rect.width - 0.5) * -10;
    heroVisual.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`;
  });

  heroVisual.addEventListener("mouseleave", () => {
    heroVisual.style.transform = "perspective(900px) rotateX(0deg) rotateY(0deg)";
  });
}

const spotlight = document.querySelector(".spotlight");
if (spotlight) {
  spotlight.addEventListener("mousemove", (event) => {
    const rect = spotlight.getBoundingClientRect();
    const x = ((event.clientX - rect.left) / rect.width) * 100;
    const y = ((event.clientY - rect.top) / rect.height) * 100;
    spotlight.style.setProperty("--mx", `${x}%`);
    spotlight.style.setProperty("--my", `${y}%`);
  });
}

const magneticCards = document.querySelectorAll(".magnetic");
magneticCards.forEach((card) => {
  card.addEventListener("mousemove", (event) => {
    const rect = card.getBoundingClientRect();
    const x = event.clientX - rect.left - rect.width / 2;
    const y = event.clientY - rect.top - rect.height / 2;
    card.style.transform = `translate(${x * 0.03}px, ${y * 0.03}px)`;
  });

  card.addEventListener("mouseleave", () => {
    card.style.transform = "translate(0, 0)";
  });
});
